{"version":3,"sources":["a-global.js","b-header.js","c-sliders.js","f-animate.js","h-filter.js","n-modal.js","01_main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../components/main.min.js","sourcesContent":["let fancybox = document.querySelectorAll(\"[data-fancybox]\")\r\n\r\nFancybox.defaults.placeFocusBack = false\r\n","let burger = document.querySelector(\".burger\")\r\nlet body = document.querySelector(\"body\")\r\nlet header = document.querySelector(\".header\")\r\nlet menuClose = document.querySelector(\".menu__close\")\r\n\r\n\r\nif (burger) {\r\n    burger.onclick = function() {\r\n        header.classList.toggle(\"_open\")\r\n        body.classList.toggle(\"fixed-body\")\r\n    }\r\n}\r\n\r\nif(menuClose){\r\n    menuClose.onclick = function () {\r\n        closeMenu()\r\n    }\r\n}\r\n\r\nfunction closeMenu(){\r\n    header.classList.remove(\"_open\")\r\n    body.classList.remove(\"fixed-body\")\r\n}\r\n\r\n\r\n","function Sliders() {\r\n    let SlidersArray = []\r\n\r\n    let sliders = document.querySelectorAll(\".slider\")\r\n    sliders.forEach((slider,index) => {\r\n        slider.setAttribute(\"data-slider-id\",index)\r\n\r\n        SlidersArray[index] = new Swiper(`.slider[data-slider-id=\"${index}\"] .swiper-container`, {\r\n            slidesPerView: \"auto\",\r\n            spaceBetween: 0,\r\n            watchSlidesProgress: true,\r\n            preventClicks :true,\r\n            a11y: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            observeSlideChildren: true,\r\n            navigation: {\r\n                nextEl: `.slider[data-slider-id=\"${index}\"] .swiper-button-next`,\r\n                prevEl: `.slider[data-slider-id=\"${index}\"] .swiper-button-prev`,\r\n            },\r\n            pagination: {\r\n                el: `.slider[data-slider-id=\"${index}\"] .swiper-pagination`,\r\n                type: 'bullets',\r\n                clickable: true,\r\n            },\r\n        })\r\n    })\r\n}\r\n\r\nSliders()\r\n","let progressFillItems = document.querySelectorAll(\"._fill\")\r\nprogressFillItems.forEach(progressFill => {\r\n    if(progressFill){\r\n        let pathLength = progressFill.getTotalLength();\r\n        progressFill.style.strokeDasharray = pathLength + ' ' + pathLength;\r\n        progressFill.style.strokeDashoffset = pathLength * -1;\r\n    }\r\n})\r\n\r\n\r\nfunction setProgressFill(el,progressNum) {\r\n    let pathLength = el.getTotalLength();\r\n    let drawLength = pathLength * (progressNum / 100);\r\n    el.style.strokeDashoffset = drawLength - pathLength\r\n\r\n\r\n    if(el.classList.contains(\"_dashed-fill\")){\r\n        el.style.strokeDasharray = '10 10';\r\n    }\r\n}\r\n\r\nlet animatedElements = document.querySelectorAll('.animated');\r\n\r\nlet Visible = function(target) {\r\n    // Все позиции элемента\r\n    let targetPosition = {\r\n            top: window.pageYOffset + target.getBoundingClientRect().top,\r\n            left: window.pageXOffset + target.getBoundingClientRect().left,\r\n            right: window.pageXOffset + target.getBoundingClientRect().right,\r\n            bottom: window.pageYOffset + target.getBoundingClientRect().bottom\r\n        },\r\n        // Получаем позиции окна\r\n        windowPosition = {\r\n            top: window.pageYOffset,\r\n            left: window.pageXOffset,\r\n            right: window.pageXOffset + document.documentElement.clientWidth,\r\n            bottom: window.pageYOffset + document.documentElement.clientHeight\r\n        };\r\n\r\n    if (targetPosition.bottom - 40 > windowPosition.top &&\r\n        targetPosition.top + 40 < windowPosition.bottom) {\r\n        target.classList.add(\"animated--active\")\r\n\r\n        if(target.classList.contains(\"_fill\")){\r\n            setTimeout(()=>{\r\n                setProgressFill(target,100)\r\n            },2000)\r\n        }\r\n    } else {\r\n\r\n    }\r\n};\r\n\r\n// Запускаем функцию при прокрутке страницы\r\nwindow.addEventListener('scroll', function() {\r\n    // Visible (element);\r\n    initAnimElements()\r\n});\r\ninitAnimElements()\r\n    // А также запустим функцию сразу. А то вдруг, элемент изначально видно\r\n    // Visible (element);\r\n\r\nfunction initAnimElements() {\r\n    animatedElements.forEach(el => {\r\n        Visible(el)\r\n    })\r\n}\r\n\r\nlet numberItems = document.querySelectorAll(\"._number-animation\")\r\n\r\nwindow.odometerOptions = {\r\n    format: 'd',\r\n    duration: 3000,\r\n};\r\n\r\nnumberItems.forEach(item => {\r\n    let num = +item.getAttribute(\"data-end\")\r\n    setTimeout(function(){\r\n        item.innerHTML = num;\r\n    }, 1000);\r\n})\r\n","let filterSelects = document.querySelectorAll(\".filter-select\")\r\nfilterSelects.forEach(select => {\r\n    let toggle = select.querySelector(\".filter-select__show\")\r\n    let current = select.querySelector(\".filter-select__current\")\r\n    let options = select.querySelectorAll(\".filter-select__option input\")\r\n\r\n    toggle.onclick = function () {\r\n        select.classList.toggle(\"_open\")\r\n    }\r\n    setCurrentValue()\r\n\r\n    document.addEventListener( 'click', (e) => {\r\n        const withinBoundaries = e.composedPath().includes(select);\r\n\r\n        if ( ! withinBoundaries ) {\r\n            if(select.classList.contains(\"_open\")){\r\n                select.classList.remove(\"_open\")\r\n            }\r\n        }\r\n    })\r\n\r\n    options.forEach(option => {\r\n        option.onchange = function () {\r\n            setCurrentValue()\r\n            select.classList.remove(\"_open\")\r\n        }\r\n    })\r\n\r\n    function setCurrentValue() {\r\n        let checkedOption = select.querySelector(\".filter-select__option input:checked\")\r\n\r\n        if(!checkedOption){\r\n            current.value = \"\"\r\n            select.classList.remove(\"_selected\")\r\n            return\r\n        }\r\n\r\n        let value = checkedOption.getAttribute(\"data-value\")\r\n        current.value = value\r\n        select.classList.add(\"_selected\")\r\n    }\r\n})\r\n","let modalTogglers = document.querySelectorAll(\"[data-modal]\")\nlet modals = document.querySelectorAll(\".modal\")\n\nmodalTogglers.forEach(el => {\n    el.onclick = function () {\n        let modalId = el.getAttribute(\"data-modal\")\n        openModal(modalId)\n    }\n})\n\nfunction closeModals() {\n    modals.forEach(modal => {\n        modal.classList.remove(\"_active\")\n        body.classList.remove(\"fixed-body2\")\n    })\n}\n\nfunction openModal(modalId) {\n    closeModals()\n    let modal = document.querySelector(`#${modalId}`)\n    let closeButtons = modal.querySelectorAll(`._close-modal`)\n\n    modal.classList.add(\"_active\")\n    body.classList.add(\"fixed-body2\")\n\n\n    closeButtons.forEach(btn => {\n        btn.onclick = ()=> {\n            modal.classList.remove(\"_active\")\n            body.classList.remove(\"fixed-body2\")\n        }\n    })\n}\n\nvar getScrollBarSize = (function() {\n    var el = window.document.createElement('textarea'), style = {\n        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',\n        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',\n        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'\n    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;\n\n    for (var key in style) {\n        if (style.hasOwnProperty(key)) {\n            el.style[key] = style[key];\n        }\n    }\n\n    return function() {\n        var size = null;\n        if (support && window.document.body) {\n            window.document.body.appendChild(el);\n            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];\n            window.document.body.removeChild(el);\n        }\n\n        document.documentElement.style.setProperty('--scrollWidth', `${size[0]}px`);\n        return size;\n    };\n})();\n\n","window.addEventListener('DOMContentLoaded', () => {\r\n    $('input[type=\"tel\"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7 (   )    -  -  ' });\r\n    fix100vh();\r\n    window.addEventListener('resize', () => {\r\n        fix100vh();\r\n        getScrollBarSize()\r\n    })\r\n\r\n    getScrollBarSize()\r\n\r\n})\r\n\r\nfunction fix100vh() {\r\n    let vh = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n}\r\n\r\n\r\n"]}